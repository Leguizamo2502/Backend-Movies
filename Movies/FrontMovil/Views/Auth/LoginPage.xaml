<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="FrontMovil.Views.Auth.LoginPage"
             xmlns:viewModels="clr-namespace:FrontMovil.ViewModels.Auth"
             x:DataType="viewModels:LoginViewModel"
             Title="Iniciar sesión">
    <ScrollView>
        <VerticalStackLayout Padding="24,48" Spacing="24">
            <Image Source="dotnet_bot.png"
                   HeightRequest="120"
                   HorizontalOptions="Center"
                   SemanticProperties.Description="Logo de la aplicación" />

            <Label Text="Bienvenido"
                   Style="{StaticResource Headline}" />

            <VerticalStackLayout Spacing="12">
                <Label Text="Correo electrónico"
                       Style="{StaticResource Caption}" />
                <Entry Text="{Binding Email}" Placeholder="correo@ejemplo.com" Keyboard="Email" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="12">
                <Label Text="Contraseña"
                       Style="{StaticResource Caption}" />
                <Entry Text="{Binding Password}" Placeholder="••••••" IsPassword="True" />
            </VerticalStackLayout>

            <Label Text="{Binding ErrorMessage}" TextColor="Red" IsVisible="{Binding ErrorMessage, Converter={StaticResource NullToBoolConverter}}" />

            <Button Text="Ingresar"
                    Command="{Binding LoginCommand}"
                    IsEnabled="{Binding IsBusy, Converter={StaticResource InverseBoolConverter}}" />

            <ActivityIndicator IsRunning="{Binding IsBusy}" IsVisible="{Binding IsBusy}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
